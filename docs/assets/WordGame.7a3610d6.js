import{u,$ as l,_ as y,d as v,e as D,f as s,c as a,a as n,n as m,t as d,F as f,g as W,o as c,h as S}from"./index.640ae349.js";class _{constructor(){setTimeout(()=>{this.store=u()},100)}async getNewWord(){let t=Math.round(this.store.score),r=t<4?4:t>15?Math.round(Math.random()*13)+2:t,o="????";return await l.ajax({method:"GET",url:"https://random-word-api.herokuapp.com/word?length="+r,success:function(i){o=Array.isArray(i)?i[0]:i}}),this.getDefinition(o),o}async getDefinition(t){let r={definition:"No definiation",partOfSpeech:"unknown"};await l.ajax({method:"GET",url:"https://api.dictionaryapi.dev/api/v2/entries/en/"+t,success:function(o){r={definition:o[0].meanings[0].definitions[0].definition,partOfSpeech:o[0].meanings[0].partOfSpeech}}}),this.store.wordDetails=r!=null?r:"Could not find definition"}async completeWord(){this.store.typedWord.length==this.store.word.length&&(this.store.typedWord="",this.store.increaseScore(),this.store.word=await this.getNewWord())}endGame(){this.store.game="game over",JSON.parse(window.localStorage.getItem("wordScore"))<this.store.score&&window.localStorage.setItem("wordScore",this.store.score)}moveWord(){this.store.wordDirection.y?this.store.wordDirection.height++:this.store.wordDirection.height--;let t=this.store.wordDirection.height;(t>window.innerHeight-50||t<1)&&(this.store.wordDirection.y=!this.store.wordDirection.y),this.store.wordDirection.x?this.store.wordDirection.width++:this.store.wordDirection.width--;let r=this.store.wordDirection.width;(r>window.innerWidth-100||r<1)&&(this.store.wordDirection.x=!this.store.wordDirection.x)}}const h=new _;const I={watch:{timer(){this.timer<=0&&(clearInterval(this.timerInterval),h.endGame())}},setup(){const e=u();v(()=>{l(document).keypress(function(o){let i=o.keyCode||o.which,w=String.fromCharCode(i);r(w)}),t.speedInterval=setInterval(()=>{h.moveWord()},t.speed)});const t=D({word:s(()=>e.word),typedWord:s(()=>e.typedWord),wordLength:s(()=>e.score),wordDetails:s(()=>e.wordDetails),wordDirection:s(()=>e.wordDirection),score:s(()=>e.score),speedInterval:"",timerInterval:"",timer:3e4,speed:10});function r(o){t.word[t.typedWord.length]==o?e.typedWord+=o:e.typedWord="",e.typedWord.length==e.word.length&&(e.score==0?t.timerInterval=setInterval(()=>{t.timer-=50},50):t.timer+=e.word.length*100,h.completeWord())}return t}},k={class:"definition"},C={class:"about text-center"};function G(e,t,r,o,i,w){return c(),a(f,null,[n("div",{class:"timer",style:m("width: "+e.timer/3e4*100+"vw")},null,4),n("h1",null,d(e.score),1),n("p",k,d(e.wordDetails.definition)+" -"+d(e.wordDetails.partOfSpeech),1),n("div",C,[n("div",{class:"word button-73",style:m("left: "+e.wordDirection.width+"px; top: "+e.wordDirection.height+"px;")},[(c(!0),a(f,null,W(e.word,(g,p)=>(c(),a("span",{key:p,class:S(e.typedWord.length>p?"typed":"")},d(g),3))),128))],4)])],64)}const O=y(I,[["render",G],["__scopeId","data-v-395a7144"]]);export{O as default};
