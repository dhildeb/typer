import{u as f,$ as a,_ as y,d as v,e as D,f as W,g as s,c,a as n,n as m,t as d,F as u,h as S,o as h,i as _}from"./index.66cdff40.js";class I{constructor(){setTimeout(()=>{this.store=f()},100)}async getNewWord(){let t=Math.round(this.store.score),r=t<4?4:t>15?Math.round(Math.random()*13)+2:t,o="????";return await a.ajax({method:"GET",url:"https://random-word-api.herokuapp.com/word?length="+r,success:function(i){o=Array.isArray(i)?i[0]:i}}),this.getDefinition(o),o}async getDefinition(t){let r={definition:"No definiation",partOfSpeech:"unknown"};await a.ajax({method:"GET",url:"https://api.dictionaryapi.dev/api/v2/entries/en/"+t,success:function(o){r={definition:o[0].meanings[0].definitions[0].definition,partOfSpeech:o[0].meanings[0].partOfSpeech}}}),this.store.wordDetails=r!=null?r:"Could not find definition"}async completeWord(){this.store.typedWord.length==this.store.word.length&&(this.store.typedWord="",this.store.increaseScore(),this.store.word=await this.getNewWord())}endGame(){this.store.game="game over",JSON.parse(window.localStorage.getItem("wordScore"))<this.store.score&&window.localStorage.setItem("wordScore",this.store.score)}moveWord(){this.store.wordDirection.y?this.store.wordDirection.height++:this.store.wordDirection.height--;let t=this.store.wordDirection.height;(t>window.innerHeight-50||t<1)&&(this.store.wordDirection.y=!this.store.wordDirection.y),this.store.wordDirection.x?this.store.wordDirection.width++:this.store.wordDirection.width--;let r=this.store.wordDirection.width;(r>window.innerWidth-100||r<1)&&(this.store.wordDirection.x=!this.store.wordDirection.x)}}const l=new I;const k={watch:{timer(){this.timer<=0&&(clearInterval(this.timerInterval),l.endGame())}},setup(){const e=f();v(()=>{a(document).keypress(function(o){let i=o.keyCode||o.which,w=String.fromCharCode(i);r(w)}),t.speedInterval=setInterval(()=>{l.moveWord()},t.speed)}),D(()=>{clearInterval(t.speedInterval),a(document).unbind("keypress"),e.typedWord=""});const t=W({word:s(()=>e.word),typedWord:s(()=>e.typedWord),wordLength:s(()=>e.score),wordDetails:s(()=>e.wordDetails),wordDirection:s(()=>e.wordDirection),score:s(()=>e.score),speedInterval:"",timerInterval:"",timer:3e4,speed:10});function r(o){t.word[t.typedWord.length]==o?e.typedWord+=o:e.typedWord="",e.typedWord.length==e.word.length&&(e.score==0?t.timerInterval=setInterval(()=>{t.timer-=50},50):t.timer+=e.word.length*100,l.completeWord())}return t}},C={class:"definition"},G={class:"about text-center"};function b(e,t,r,o,i,w){return h(),c(u,null,[n("div",{class:"timer",style:m("width: "+e.timer/3e4*100+"vw")},null,4),n("h1",null,d(e.score),1),n("p",C,d(e.wordDetails.definition)+" -"+d(e.wordDetails.partOfSpeech),1),n("div",G,[n("div",{class:"word button-73",style:m("left: "+e.wordDirection.width+"px; top: "+e.wordDirection.height+"px;")},[(h(!0),c(u,null,S(e.word,(g,p)=>(h(),c("span",{key:p,class:_(e.typedWord.length>p?"typed":"")},d(g),3))),128))],4)])],64)}const O=y(k,[["render",b],["__scopeId","data-v-1b6dcc31"]]);export{O as default};
