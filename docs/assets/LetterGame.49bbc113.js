import{u,_ as f,d as w,$ as g,e as v,f as c,c as i,a as l,t as p,F as m,g as _,o as n,n as I}from"./index.640ae349.js";class M{constructor(){setTimeout(()=>{this.store=u()},100)}getRandomLetter(){let e=this.store.numList;return this.store.score>10&&(e+=this.store.letterList),this.store.score>50&&(e+=this.store.specialCharList),e[Math.floor(Math.random()*e.length)]}setChar(){this.store.letters.length>10&&this.endGame();let e=this.getRandomLetter();this.store.letters.push({char:e,height:Math.random()*(window.innerHeight-50),width:Math.random()*(window.innerWidth-50),direction:Math.floor(Math.random()*4)})}endGame(){this.store.game="game over",JSON.parse(window.localStorage.getItem("letterScore"))<this.store.score&&window.localStorage.setItem("letterScore",this.store.score)}moveChars(){this.store.letters.forEach(e=>{switch(e.direction){case 0:if(e.height++,e.height>=window.innerHeight-50){e.height=window.innerHeight-50;let t=[1,2,3];e.direction=t[Math.floor(Math.random()*3)]}return;case 1:if(e.height--,e.height<=50){e.height=50;let t=[0,2,3];e.direction=t[Math.floor(Math.random()*3)]}return;case 2:if(e.width++,e.width>=window.innerWidth-50){e.width=window.innerWidth-50;let t=[1,0,3];e.direction=t[Math.floor(Math.random()*3)]}return;case 3:if(e.width--,e.width<=50){e.width=50;let t=[1,2,0];e.direction=t[Math.floor(Math.random()*3)]}return}})}}const o=new M;const C={watch:{score(){this.score%3==0&&(this.speed--,clearInterval(this.speedInterval),this.speedInterval=setInterval(()=>{o.moveChars()},this.speed)),this.score%2==0&&(this.rate-=10,clearInterval(this.rateInterval),this.rateInterval=setInterval(()=>{o.setChar()},this.rate))}},setup(){const s=u();w(()=>{e.rateInterval=setInterval(()=>{o.setChar()},e.rate),e.speedInterval=setInterval(()=>{o.moveChars()},e.speed),g(document).keypress(function(t){let h=t.keyCode||t.which,d=String.fromCharCode(h),a=s.letters.findIndex(r=>r.char==d);a>=0&&s.game!="game over"?(s.letters.splice(a,1),s.score++):(o.setChar(),o.setChar())})});const e=v({letters:c(()=>s.letters),score:c(()=>s.score),speed:100,rate:2e3,speedInterval:null,rateInterval:null});return e}},S=["id"];function y(s,e,t,h,d,a){return n(),i(m,null,[l("h1",null,p(s.score),1),(n(!0),i(m,null,_(s.letters,r=>(n(),i("div",{id:"typeField",key:r},[l("span",{id:r.char,class:"char button-73",style:I("left: "+r.width+"px; top: "+r.height+"px;")},p(r.char),13,S)]))),128))],64)}const x=f(C,[["render",y],["__scopeId","data-v-2c3b6a7d"]]);export{x as default};
